<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=5,IE=9" ><![endif]-->
<!DOCTYPE html>
<html>
<head>
<title>设计电源拓扑</title>
<meta charset="utf-8"/>
</head>
<body><div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;nav&quot;:true,&quot;resize&quot;:true,&quot;toolbar&quot;:&quot;zoom layers tags lightbox&quot;,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;Electron\&quot; modified=\&quot;2023-04-29T03:01:59.610Z\&quot; agent=\&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/21.2.1 Chrome/112.0.5615.87 Electron/24.1.2 Safari/537.36\&quot; etag=\&quot;D5C_YS4GaBMDqwWS4-7R\&quot; version=\&quot;21.2.1\&quot; type=\&quot;device\&quot;&gt;\n  &lt;diagram id=\&quot;StXW9vDBuZxnw6pbQAzU\&quot; name=\&quot;第 1 页\&quot;&gt;\n    &lt;mxGraphModel dx=\&quot;2514\&quot; dy=\&quot;1125\&quot; grid=\&quot;1\&quot; gridSize=\&quot;10\&quot; guides=\&quot;1\&quot; tooltips=\&quot;1\&quot; connect=\&quot;1\&quot; arrows=\&quot;1\&quot; fold=\&quot;1\&quot; page=\&quot;1\&quot; pageScale=\&quot;1\&quot; pageWidth=\&quot;827\&quot; pageHeight=\&quot;1169\&quot; math=\&quot;0\&quot; shadow=\&quot;0\&quot;&gt;\n      &lt;root&gt;\n        &lt;mxCell id=\&quot;0\&quot; /&gt;\n        &lt;mxCell id=\&quot;1\&quot; parent=\&quot;0\&quot; /&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-1\&quot; value=\&quot;底盘输出&amp;lt;br&amp;gt;无刷电机\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;83.75\&quot; y=\&quot;910\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-2\&quot; value=\&quot;电源输入\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;98\&quot; y=\&quot;440\&quot; width=\&quot;90\&quot; height=\&quot;40\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-9\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;HsdgBNmCGdod0hYB6Wyy-3\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-8\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-12\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;HsdgBNmCGdod0hYB6Wyy-3\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-11\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-61\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;HsdgBNmCGdod0hYB6Wyy-3\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-6\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;IocPLUXvyem-Fw9VzLDi-4\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;HsdgBNmCGdod0hYB6Wyy-3\&quot; target=\&quot;IocPLUXvyem-Fw9VzLDi-1\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-3\&quot; value=\&quot;输入检流电阻&amp;lt;br&amp;gt;阻值：1mΩ\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;84\&quot; y=\&quot;520\&quot; width=\&quot;118\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-4\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;HsdgBNmCGdod0hYB6Wyy-2\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-3\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;-27\&quot; y=\&quot;590\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n            &lt;mxPoint x=\&quot;23\&quot; y=\&quot;540\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-6\&quot; value=\&quot;电流感应放大器&amp;lt;br&amp;gt;NCS210R&amp;lt;br&amp;gt;运算放大器（电压采集）&amp;lt;br&amp;gt;NCS20061\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;-207\&quot; y=\&quot;510\&quot; width=\&quot;160\&quot; height=\&quot;80\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-29\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;HsdgBNmCGdod0hYB6Wyy-8\&quot; target=\&quot;Sncp47ntZ2pjKv9O994a-5\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;3\&quot; y=\&quot;830\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-8\&quot; value=\&quot;理想二极管控制器&amp;lt;br&amp;gt;LM5050MK&amp;lt;br&amp;gt;控制MOSFET&amp;amp;nbsp;AP80N04Q\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;45.75\&quot; y=\&quot;650\&quot; width=\&quot;196\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-16\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;HsdgBNmCGdod0hYB6Wyy-11\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-15\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-11\&quot; value=\&quot;肖特基二极管&amp;lt;br&amp;gt;PSBD1DF40V2L\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;303\&quot; y=\&quot;650\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;Rnap97VTkotBTkQl8X7j-5\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;HsdgBNmCGdod0hYB6Wyy-15\&quot; target=\&quot;Rnap97VTkotBTkQl8X7j-4\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;Sncp47ntZ2pjKv9O994a-8\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;HsdgBNmCGdod0hYB6Wyy-15\&quot; target=\&quot;cnatVIFwkTdjKcwfvOBO-1\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;243\&quot; y=\&quot;800\&quot; /&gt;\n              &lt;mxPoint x=\&quot;243\&quot; y=\&quot;1090\&quot; /&gt;\n              &lt;mxPoint x=\&quot;33\&quot; y=\&quot;1090\&quot; /&gt;\n            &lt;/Array&gt;\n            &lt;mxPoint x=\&quot;40\&quot; y=\&quot;1090.5\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-15\&quot; value=\&quot;Buck降压电路&amp;lt;br&amp;gt;AP63357&amp;lt;br&amp;gt;5V输出\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;291\&quot; y=\&quot;770\&quot; width=\&quot;144\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-20\&quot; value=\&quot;3V3输出&amp;lt;br&amp;gt;STM32G474&amp;lt;br&amp;gt;有源晶振&amp;lt;br&amp;gt;CAN电平转换芯片&amp;lt;br&amp;gt;人机交互设备&amp;lt;br&amp;gt;等\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;297.25\&quot; y=\&quot;1035.5\&quot; width=\&quot;131.5\&quot; height=\&quot;110\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-60\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;HsdgBNmCGdod0hYB6Wyy-41\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-43\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-41\&quot; value=\&quot;输入检流电阻&amp;lt;br&amp;gt;阻值：1mΩ\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;-400.25\&quot; y=\&quot;768.75\&quot; width=\&quot;116.5\&quot; height=\&quot;62.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-43\&quot; value=\&quot;电流感应放大器&amp;lt;br&amp;gt;NCS210R &amp;lt;br&amp;gt;因为没有参考电压提供，无法测量反向电流&amp;lt;br&amp;gt;运算放大器（电压采集）&amp;lt;br&amp;gt;NCS20061\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;-750\&quot; y=\&quot;757.5\&quot; width=\&quot;250\&quot; height=\&quot;85\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-62\&quot; value=\&quot;法拉电容组&amp;lt;br&amp;gt;标称能量不能超过2000J，实测能量不能超过2200J&amp;lt;br&amp;gt;使用超级电容充电保护芯片BW6101&amp;lt;br&amp;gt;使用保护芯片扩流MOS&amp;amp;nbsp;AP80N04Q\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;-494.38\&quot; y=\&quot;898.75\&quot; width=\&quot;304.75\&quot; height=\&quot;82.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-64\&quot; value=\&quot;电容充电管理&amp;lt;br&amp;gt;使用两个半桥电路构成H桥管理电容充放电，双向buck-boost电路&amp;lt;br&amp;gt;使用两个半桥驱动芯片ADP3110A&amp;lt;br&amp;gt;H桥使用MOSFET&amp;amp;nbsp;HYG025N06LS1C2\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;-527\&quot; y=\&quot;640\&quot; width=\&quot;370\&quot; height=\&quot;80\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;HsdgBNmCGdod0hYB6Wyy-70\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;HsdgBNmCGdod0hYB6Wyy-64\&quot; target=\&quot;Sncp47ntZ2pjKv9O994a-5\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;-27\&quot; y=\&quot;279.5\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n            &lt;mxPoint x=\&quot;3\&quot; y=\&quot;840\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;5RK-K-sY3bWobj8l1c8g-1\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;HsdgBNmCGdod0hYB6Wyy-41\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-64\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;-684.75\&quot; y=\&quot;542\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n            &lt;mxPoint x=\&quot;-557\&quot; y=\&quot;389.5\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;llnPX9CH5Lpl61UZmSh3-4\&quot; value=\&quot;&amp;lt;h1&amp;gt;MCU相关&amp;lt;/h1&amp;gt;&amp;lt;p&amp;gt;MCU使用STM32G474RE6&amp;lt;span style=&amp;quot;white-space: pre;&amp;quot;&amp;gt;\t&amp;lt;/span&amp;gt;LQFP-64封装&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;使用MCU控制H桥调控，打算运用RTT操作系统，可以有着命令行的交互，在后续制作图形GUI的时候也会更加方便&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;实现难点在于代码的实现上，然后硬件设计上需要综合考量&amp;lt;/p&amp;gt;\&quot; style=\&quot;text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;-760\&quot; y=\&quot;20\&quot; width=\&quot;460\&quot; height=\&quot;210\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;llnPX9CH5Lpl61UZmSh3-5\&quot; value=\&quot;\&quot; style=\&quot;endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;HsdgBNmCGdod0hYB6Wyy-64\&quot; target=\&quot;llnPX9CH5Lpl61UZmSh3-4\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;-530\&quot; y=\&quot;814.5\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n            &lt;mxPoint x=\&quot;-530\&quot; y=\&quot;320\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;llnPX9CH5Lpl61UZmSh3-7\&quot; value=\&quot;\&quot; style=\&quot;endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;llnPX9CH5Lpl61UZmSh3-4\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-6\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;-380\&quot; y=\&quot;260\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n            &lt;mxPoint x=\&quot;-180\&quot; y=\&quot;724.5\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;llnPX9CH5Lpl61UZmSh3-8\&quot; value=\&quot;\&quot; style=\&quot;endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;llnPX9CH5Lpl61UZmSh3-4\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-43\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;-706.25\&quot; y=\&quot;279.9999999999998\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n            &lt;mxPoint x=\&quot;-600\&quot; y=\&quot;699.5\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;llnPX9CH5Lpl61UZmSh3-10\&quot; value=\&quot;\&quot; style=\&quot;endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;llnPX9CH5Lpl61UZmSh3-4\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-20\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;-260\&quot; y=\&quot;220\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n            &lt;mxPoint x=\&quot;-80\&quot; y=\&quot;989.5\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;llnPX9CH5Lpl61UZmSh3-11\&quot; value=\&quot;\&quot; style=\&quot;endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;llnPX9CH5Lpl61UZmSh3-4\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-8\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;30\&quot; y=\&quot;754.5\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n            &lt;mxPoint x=\&quot;80\&quot; y=\&quot;704.5\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;Rnap97VTkotBTkQl8X7j-7\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;html=1;\&quot; parent=\&quot;1\&quot; source=\&quot;Rnap97VTkotBTkQl8X7j-4\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-20\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;Rnap97VTkotBTkQl8X7j-4\&quot; value=\&quot;&amp;lt;p&amp;gt;&amp;lt;span style=&amp;quot;font-size: 11px;&amp;quot;&amp;gt;LD39050PU33R&amp;lt;br&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;font-size: 11px;&amp;quot;&amp;gt;3V3输出&amp;lt;br&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;font-size: 11px;&amp;quot;&amp;gt;CAN电平转换芯片&amp;lt;/span&amp;gt;&amp;lt;/p&amp;gt;\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;294\&quot; y=\&quot;910\&quot; width=\&quot;138\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;Rnap97VTkotBTkQl8X7j-6\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;Rnap97VTkotBTkQl8X7j-4\&quot; target=\&quot;Rnap97VTkotBTkQl8X7j-4\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;yBxiULB07EWCwNgqGVIt-3\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;cnatVIFwkTdjKcwfvOBO-1\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-6\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;-84\&quot; y=\&quot;1074.375\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;yBxiULB07EWCwNgqGVIt-5\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;cnatVIFwkTdjKcwfvOBO-1\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-43\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;Array as=\&quot;points\&quot;&gt;\n              &lt;mxPoint x=\&quot;-625\&quot; y=\&quot;1108\&quot; /&gt;\n            &lt;/Array&gt;\n            &lt;mxPoint x=\&quot;-84\&quot; y=\&quot;1106.625\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;Sncp47ntZ2pjKv9O994a-11\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;cnatVIFwkTdjKcwfvOBO-1\&quot; target=\&quot;Sncp47ntZ2pjKv9O994a-9\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;-22\&quot; y=\&quot;1058.25\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;xAHL7pUq0PRHy24seZFt-4\&quot; value=\&quot;&amp;lt;h1&amp;gt;情况列举&amp;lt;/h1&amp;gt;&amp;lt;div&amp;gt;&amp;lt;b&amp;gt;工作状态可能：&amp;lt;/b&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;p&amp;gt;1.底盘输出空载，电源输入有功率富余，给电容充电&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;2.底盘输出功率较小，有较小的功率富余，使用多余的功率富余给电容充电&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;2.底盘输出满载，电源输入不够提供多余的底盘功率，从电容中抽取&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;&amp;lt;b&amp;gt;判断状态的方式：&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;1.底盘输出空载可以通过电源输入下一级的功率采集电路进行判断，不同的功率上线需要通过与裁判系统或者与其它单片机节点进行通讯获取&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;2.底盘输出满载是需要通过前提状态来判断的，不管什么情况都无法判断底盘是否是处于正常的满载状态，是需要整个系统的状态来进行模式的变换&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;&amp;lt;span style=&amp;quot;white-space: pre;&amp;quot;&amp;gt;\t&amp;lt;/span&amp;gt;比方说：当我检测到底盘的电机不在旋转时，我预测此时电源输入肯定是空载状态，此时给电容进行&amp;lt;b&amp;gt;恒流恒压&amp;lt;/b&amp;gt;充电；&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;&amp;lt;span style=&amp;quot;white-space: pre;&amp;quot;&amp;gt;\t&amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;white-space: pre;&amp;quot;&amp;gt;\t&amp;lt;/span&amp;gt;&amp;amp;nbsp; &amp;amp;nbsp; &amp;amp;nbsp; 当我检测到底盘的电机需要旋转时，我降低此时电容需要抽取的功率，在满足电机能达到目标速度的前提下给电容充电&amp;lt;br&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;&amp;lt;span style=&amp;quot;white-space: pre;&amp;quot;&amp;gt;\t&amp;lt;/span&amp;gt;问题：怎么实现在满足电机能达到目标速度的前提下给电容充电？&amp;lt;span style=&amp;quot;white-space: pre;&amp;quot;&amp;gt;\t&amp;lt;/span&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial;&amp;quot;&amp;gt;什么时候触发功率补偿？是否可以使用某一个按键手动触发？&amp;lt;/span&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;电容充电的功率与电机输出的功率在第二个工作状态存在竞争关系，如何合理的调控电机输出的功率大小和电容充电的功率大小是一个问题&amp;lt;/p&amp;gt;\&quot; style=\&quot;text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;-16\&quot; y=\&quot;20\&quot; width=\&quot;843\&quot; height=\&quot;340\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;Sncp47ntZ2pjKv9O994a-18\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;\&quot; parent=\&quot;1\&quot; source=\&quot;Sncp47ntZ2pjKv9O994a-2\&quot; target=\&quot;Sncp47ntZ2pjKv9O994a-17\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;Sncp47ntZ2pjKv9O994a-2\&quot; value=\&quot;Buck降压电路&amp;lt;br&amp;gt;AP63357&amp;lt;br&amp;gt;12V输出\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;473\&quot; y=\&quot;770\&quot; width=\&quot;144\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;Sncp47ntZ2pjKv9O994a-6\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;Sncp47ntZ2pjKv9O994a-5\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-1\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;Sncp47ntZ2pjKv9O994a-10\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;Sncp47ntZ2pjKv9O994a-5\&quot; target=\&quot;Sncp47ntZ2pjKv9O994a-9\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;Sncp47ntZ2pjKv9O994a-5\&quot; value=\&quot;输入检流电阻&amp;lt;br&amp;gt;阻值：1mΩ\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;85.5\&quot; y=\&quot;770\&quot; width=\&quot;116.5\&quot; height=\&quot;62.5\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;Sncp47ntZ2pjKv9O994a-9\&quot; value=\&quot;电流感应放大器&amp;lt;br&amp;gt;NCS210R\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;-77\&quot; y=\&quot;771.25\&quot; width=\&quot;110\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;Sncp47ntZ2pjKv9O994a-13\&quot; value=\&quot;\&quot; style=\&quot;endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;llnPX9CH5Lpl61UZmSh3-4\&quot; target=\&quot;Sncp47ntZ2pjKv9O994a-9\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;-440\&quot; y=\&quot;370\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n            &lt;mxPoint x=\&quot;-110\&quot; y=\&quot;505.5\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;Sncp47ntZ2pjKv9O994a-17\&quot; value=\&quot;&amp;lt;span style=&amp;quot;font-size: 11px;&amp;quot;&amp;gt;半桥驱动芯片ADP3110A&amp;lt;br&amp;gt;&amp;lt;/span&amp;gt;\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;466.5\&quot; y=\&quot;920\&quot; width=\&quot;157\&quot; height=\&quot;40\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;IocPLUXvyem-Fw9VzLDi-2\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;\&quot; parent=\&quot;1\&quot; source=\&quot;IocPLUXvyem-Fw9VzLDi-1\&quot; target=\&quot;Sncp47ntZ2pjKv9O994a-2\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;IocPLUXvyem-Fw9VzLDi-1\&quot; value=\&quot;肖特基二极管&amp;lt;br&amp;gt;PSBD1DF40V2L\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;\&quot; parent=\&quot;1\&quot; vertex=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;485\&quot; y=\&quot;650\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;qIZzk32WbIgFvwXCH7_U-2\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;\&quot; parent=\&quot;1\&quot; source=\&quot;HsdgBNmCGdod0hYB6Wyy-62\&quot; target=\&quot;HsdgBNmCGdod0hYB6Wyy-41\&quot; edge=\&quot;1\&quot;&gt;\n          &lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;\n            &lt;mxPoint x=\&quot;-480\&quot; y=\&quot;900\&quot; as=\&quot;sourcePoint\&quot; /&gt;\n            &lt;mxPoint x=\&quot;-430\&quot; y=\&quot;850\&quot; as=\&quot;targetPoint\&quot; /&gt;\n          &lt;/mxGeometry&gt;\n        &lt;/mxCell&gt;\n        &lt;mxCell id=\&quot;cnatVIFwkTdjKcwfvOBO-1\&quot; value=\&quot;NCP51460基准电压源&amp;lt;br&amp;gt;3V3输出&amp;lt;br&amp;gt;单片机REF电压\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;\n          &lt;mxGeometry x=\&quot;-88.5\&quot; y=\&quot;1056\&quot; width=\&quot;133\&quot; height=\&quot;69\&quot; as=\&quot;geometry\&quot; /&gt;\n        &lt;/mxCell&gt;\n      &lt;/root&gt;\n    &lt;/mxGraphModel&gt;\n  &lt;/diagram&gt;\n&lt;/mxfile&gt;\n&quot;}"></div>
<script type="text/javascript" src="https://viewer.diagrams.net/js/viewer-static.min.js"></script>
</body>
</html>